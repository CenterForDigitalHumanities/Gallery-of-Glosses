"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6806:function(e,t,r){r.d(t,{z:function(){return l}});var a=r(7437),n=r(2265),o=r(7256),i=r(6061),s=r(4209);let c=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:l=!1,...d}=e,u=l?o.g7:"button";return(0,a.jsx)(u,{className:(0,s.cn)(c({variant:n,size:i,className:r})),ref:t,...d})});l.displayName="Button"},1929:function(e,t,r){r.d(t,{$F:function(){return u},AW:function(){return p},VD:function(){return h},Xi:function(){return g},h_:function(){return d}});var a=r(7437),n=r(2265),o=r(7616),i=r(7158),s=r(2442),c=r(6369),l=r(4209);let d=o.fC,u=o.xz;o.ZA,o.Uv,o.Tr,o.Ee;let f=n.forwardRef((e,t)=>{let{className:r,inset:n,children:s,...c}=e;return(0,a.jsxs)(o.fF,{ref:t,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",r),...c,children:[s,(0,a.jsx)(i.Z,{className:"ml-auto h-4 w-4"})]})});f.displayName=o.fF.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})});m.displayName=o.tu.displayName;let p=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...i}=e;return(0,a.jsx)(o.Uv,{children:(0,a.jsx)(o.VY,{ref:t,sideOffset:n,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})})});p.displayName=o.VY.displayName;let g=n.forwardRef((e,t)=>{let{className:r,inset:n,...i}=e;return(0,a.jsx)(o.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",r),...i})});g.displayName=o.ck.displayName;let v=n.forwardRef((e,t)=>{let{className:r,children:n,checked:i,...c}=e;return(0,a.jsxs)(o.oC,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:i,...c,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.wU,{children:(0,a.jsx)(s.Z,{className:"h-4 w-4"})})}),n]})});v.displayName=o.oC.displayName;let y=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(o.Rk,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.wU,{children:(0,a.jsx)(c.Z,{className:"h-2 w-2 fill-current"})})}),n]})});y.displayName=o.Rk.displayName;let x=n.forwardRef((e,t)=>{let{className:r,inset:n,...i}=e;return(0,a.jsx)(o.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r),...i})});x.displayName=o.__.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...n})});h.displayName=o.Z0.displayName},4209:function(e,t,r){r.d(t,{vi:function(){return GrabProductionGlosses},cn:function(){return cn},dl:function(){return grabGlossWitnessFragments},wv:function(){return grabProperties},Mg:function(){return grabWitnessFragments},VN:function(){return grabWitnessFromFragment},zi:function(){return processGloss},TV:function(){return processTranscriptionAnnotations},w2:function(){return processWitness}});var a=r(7042),n=r(3986),o=r(4829);let i="https://tinymatt.rerum.io/gloss";function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m)((0,a.W)(t))}async function makePagedQuery(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{let n=[];for(;;){let i=await o.Z.post("".concat(e,"?limit=").concat(r,"&skip=").concat(a),t,{headers:{"Content-Type":"application/json; charset=utf-8"}});if(n=[...n,...i.data],!i.data.length||i.data.length<r)break;a+=r}return new Response(JSON.stringify(n),{status:200})}catch(e){return new Response("Could not retrieve objects at this time. Please try later",{status:500})}}async function grabProperties(e){try{let t=function(e){let t={},r=[];if(e.startsWith("http")){let a=e.replace(/^https?/,"http"),n=e.replace(/^https?/,"https");["target","target.@id","target.id"].forEach(e=>{r.push({[e]:a}),r.push({[e]:n})}),t={$or:r,"__rerum.history.next":{$exists:!0,$size:0}}}else t.target=e;return t}(e);return await makePagedQuery("".concat(i,"/query"),t)}catch(e){return console.error("Error querying objects:",e),new Response("Could not retrieve objects at this time. Please try later",{status:500})}}function processGloss(e,t){let r={targetId:"",title:"",targetCollection:"",section:"",subsection:"",tags:void 0,textFormat:void 0,textLanguage:void 0,textValue:void 0,creator:void 0,document:void 0,themes:void 0,canonicalReference:void 0,description:void 0,targetedText:void 0};return r.targetId=t,e.forEach(e=>{e&&(e.title&&e.title.value?r.title=e.title.value:e.targetCollection?r.targetCollection=e.targetCollection:e._section&&e._section.value?r.section=e._section.value:e._subsection&&e._subsection.value?r.subsection=e._subsection.value:e.tags&&e.tags.items?r.tags=e.tags.items:e.text?(r.textFormat=e.text.format,r.textLanguage=e.text.language,r.textValue=e.text.textValue):e.creator&&e.creator.value?r.creator=e.creator.value:e._document&&e._document.value?r.document=e._document.value:e.themes&&e.themes.value?r.themes=e.themes.value:e.canonicalReference&&e.canonicalReference.value?r.canonicalReference=e.canonicalReference.value:e.description&&e.description.value?r.description=e.description.value:e.targetedText&&e.targetedText.value&&(r.targetedText=e.targetedText.value))}),r}async function GrabProductionGlosses(){try{let e=await o.Z.get("https://store.rerum.io/v1/id/610c54deffce846a83e70625");return e.data}catch(e){return console.error("Error fetching data:",e),null}}async function grabGlossWitnessFragments(e){try{let t=await makePagedQuery("".concat(i,"/query"),{"body.references.value":e,"__rerum.history.next":{$exists:!0,$type:"array",$eq:[]}}),r=await t.json();return await filterDataAtTargets(r,e=>"Text"===e["@type"])}catch(e){return console.error("Error fetching data:",e),null}}function processTranscriptionAnnotations(e,t){let r={targetId:void 0,title:void 0,identifier:void 0,creator:void 0,source:void 0,selections:void 0,references:void 0,textFormat:void 0,textLanguage:void 0,textValue:void 0};return r.targetId=t,e.forEach(e=>{e&&(e.title?r.title=e.title.value:e.identifier?r.identifier=e.identifier.value:e.creator?r.creator=e.creator.value:e.source?r.source=e.source.value:e.selections?r.selections=e.selections.value:e.references?r.references=e.references.value:e.text&&(r.textFormat=e.text.format,r.textLanguage=e.text.language,r.textValue=e.text.textValue))}),r}function processWitness(e,t){let r={targetId:void 0,provenance:void 0,url:void 0,identifier:void 0,city:void 0,alternative:void 0,repository:void 0,title:void 0,institution:void 0,baseProject:void 0,region:void 0};return r.targetId=t,e.forEach(e=>{e&&(e.provenance?r.provenance=e.provenance.value:e.url?r.url=e.url.value:e.identifier?r.identifier=e.identifier.value:e.city?r.city=e.city.value:e.alternative?r.alternative=e.alternative.value:e.Repository?r.repository=e.Repository.value:e.title?r.title=e.title.value:e.institution?r.institution=e.institution.value:e["tpen://base-project"]?r.baseProject=e["tpen://base-project"].value:e.region&&(r.region=e.region.value))}),r}async function grabWitnessFragments(e){try{let t=await makePagedQuery("".concat(i,"/query"),{"body.identifier.value":e,"__rerum.history.next":{$exists:!0,$type:"array",$eq:[]}}),r=await t.json();return await filterDataAtTargets(r,e=>"Text"===e["@type"])}catch(e){return console.error("Error fetching data:",e),null}}async function grabWitnessFromFragment(e){try{let t=await makePagedQuery("".concat(i,"/query"),{"body.identifier.value":e,"__rerum.history.next":{$exists:!0,$type:"array",$eq:[]}}),r=await t.json(),a=await filterDataAtTargets(r,e=>"manuscript"===e["@type"]);return a[0]}catch(e){return console.error("Error fetching data:",e),null}}async function filterDataAtTargets(e,t){return(await Promise.all(e.map(async e=>{let t=await o.Z.get(e.target);return t.data}))).filter(t)}}}]);