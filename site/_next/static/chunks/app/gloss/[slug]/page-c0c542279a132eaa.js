(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{7416:function(e,s,n){Promise.resolve().then(n.bind(n,862))},862:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return _slug_Gloss}});var t=n(7437),a=n(2265),c=n(4209);let useGlossInstance=e=>{let[s,n]=(0,a.useState)();async function fetchGlossAndProcessProperties(){let s=await (0,c.wv)(e),t=await s.json(),a=t.map(e=>e.body);n((0,c.zi)(a,e))}return(0,a.useEffect)(()=>{fetchGlossAndProcessProperties()},[e]),s};var i=n(4033),l=n(1159),o=n(3180);let useGlossWitnesses=e=>{let[s,n]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0);async function fetchTranscriptionWitnessAndProcessProperties(e){if(!e.identifier)return;let s=await (0,c.VN)(e.identifier);if(s){let e=await (0,c.wv)(s["@id"]),t=await e.json(),a=t.map(e=>e.body),i=(0,c.w2)(a,s["@id"]);n(e=>[...e,i])}}async function fetchGlossWitnessesAndProcessProperties(){let s=await (0,c.dl)(e);if(s&&s.length>1)for(let e of s){let s=e["@id"],n=await (0,c.wv)(s),t=await n.json(),a=t.map(e=>e.body),i=(0,c.TV)(a,s);fetchTranscriptionWitnessAndProcessProperties(i)}i(!1)}return(0,a.useEffect)(()=>{fetchGlossWitnessesAndProcessProperties()},[e]),{witnesses:s,loading:t}},r={header:"Witness",accessorKey:"identifier",expandable:!1},d=(0,l.C)([r,{header:"Witness Details (under construction)",accessorKey:"city",expandable:!1}]);var _slug_Gloss=e=>{(0,i.usePathname)();let s=e.slug,n=useGlossInstance(s),a=useGlossWitnesses(s),c=a.witnesses,l="filter blur-md opacity-50";return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"text-foreground p-4 md:p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4 ".concat(!n&&l),children:n&&n.title?n.title:"Not found"}),(0,t.jsxs)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Canonical Reference Locator:"})," ",(0,t.jsx)("span",{className:"".concat(!n&&l),children:n&&n.canonicalReference?n.canonicalReference:"Not found"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Language:"})," ",(0,t.jsx)("span",{className:"".concat(!n&&l),children:n&&n.textLanguage?n.textLanguage:"Not found"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Description:"})," ",(0,t.jsx)("span",{className:"".concat(!n&&l),children:n&&n.description?n.description:"Not found"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Tags:"})," ",(0,t.jsx)("span",{className:"".concat(!n&&l),children:n&&n.tags?n.tags.map((e,s,n)=>(0,t.jsxs)("a",{href:"/browse/tag?q="+e,className:"text-blue-500 hover:underline",children:[e,s<n.length-1?", ":""]},s)):"Not found"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Themes:"})," ",(0,t.jsx)("span",{className:"".concat(!n&&l),children:n&&n.themes?n.themes.join("").split(", ").map((e,s,n)=>e+(s<n.length-1?", ":"")):"Not found"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Target Text:"})," ",(0,t.jsx)("span",{className:"".concat(!n&&l),children:n?n.targetedText:"Not found"})]})]}),(0,t.jsx)("div",{className:"rounded-xl shadow-inner",children:(0,t.jsx)("p",{className:"text-justify ".concat(!n&&l),children:n&&n.textValue?n.textValue:"Not found"})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-4 ".concat(!c&&l),children:"Witness References"}),(0,t.jsx)(o.w,{columns:d,data:c,loading:a.loading,filterColumn:r})]})})}}},function(e){e.O(0,[310,173,206,702,638,971,472,744],function(){return e(e.s=7416)}),_N_E=e.O()}]);